package com.nexteducation.NextConfig.module.controller;

import java.util.List;

import javax.validation.Valid;
import javax.ws.rs.BeanParam;
import javax.ws.rs.Consumes;
import javax.ws.rs.DELETE;
import javax.ws.rs.GET;
import javax.ws.rs.POST;
import javax.ws.rs.PUT;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.QueryParam;
import javax.ws.rs.core.MediaType;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Qualifier;

import com.nexteducation.NextConfig.module.model.enums.Type;
import com.nexteducation.NextConfig.module.model.params.AutoNumbering.AutoNumberingDeleteContextParams;
import com.nexteducation.NextConfig.module.model.params.AutoNumbering.AutoNumberingFetchParams;
import com.nexteducation.NextConfig.module.model.params.AutoNumbering.AutoNumberingUpdateContextParams;
import com.nexteducation.NextConfig.module.model.request.AutoNumbering.AutoNumberingAddRequest;
import com.nexteducation.NextConfig.module.model.request.AutoNumbering.AutoNumberingGenerateRequest;
import com.nexteducation.NextConfig.module.model.request.AutoNumbering.AutoNumberingUpdateRequest;
import com.nexteducation.NextConfig.module.model.response.AddResponse;
import com.nexteducation.NextConfig.module.model.response.AutoNumberingResponse;
import com.nexteducation.NextConfig.module.model.response.JerseyResponse;
import com.nexteducation.NextConfig.module.service.core.AutoNumberingService;
import com.nexteducation.NextConfig.util.NextConfigUrls;
import com.nexteducation.NextService.exception.NextServiceException;
import com.nexteducation.NextService.module.filter.queryable.QueryableParams;
import com.nexteducation.NextService.module.model.params.SessionParams;

@Consumes(MediaType.APPLICATION_JSON)
@Produces(MediaType.APPLICATION_JSON)
@Path(NextConfigUrls.V1)
public class AutoNumberingController {
	
	@Autowired
	@Qualifier("autoNumberingService")
	AutoNumberingService autoNumberingService;
	
	
	@POST
	@Path(NextConfigUrls.AUTO_NUMBERING)
	public AddResponse addAutoNumberings(@Valid @BeanParam SessionParams sessionParams, @BeanParam QueryableParams queryable,@Valid AutoNumberingAddRequest autoNumberingAddRequest) throws NextServiceException  {

		return autoNumberingService.addAutoNumberings(sessionParams,queryable,autoNumberingAddRequest);			
	}
	
	
	@POST
	@Path(NextConfigUrls.AUTO_NUMBERING_GENERATE)
	public AutoNumberingResponse generateAutoGeneratedNos(@BeanParam SessionParams sessionParams, @BeanParam QueryableParams queryable,AutoNumberingGenerateRequest autoNumberingGenerateRequest) throws NextServiceException  {
		
			return autoNumberingService.generateAutoGeneratedNos(sessionParams,autoNumberingGenerateRequest);	
	}
	
	@PUT
	@Path(NextConfigUrls.AUTO_NUMBERING)
	public JerseyResponse updateAutoNumberings(@BeanParam AutoNumberingUpdateContextParams autoNumberingUpdateContextParams, @Valid @BeanParam SessionParams sessionParams, @BeanParam QueryableParams queryable,@Valid AutoNumberingUpdateRequest autoNumberingUpdateRequest) throws NextServiceException  {
		
			return autoNumberingService.updateAutoNumberings(autoNumberingUpdateContextParams,sessionParams,queryable,autoNumberingUpdateRequest);	
	}
	@DELETE
	@Path(NextConfigUrls.AUTO_NUMBERING_Long)
	public JerseyResponse deleteAutoNumberings(@BeanParam AutoNumberingDeleteContextParams autoNumberingDeleteContextParams,@Valid @BeanParam SessionParams sessionParams, @BeanParam QueryableParams queryable) throws NextServiceException  {
		
			return autoNumberingService.deleteAutoNumberings(autoNumberingDeleteContextParams,sessionParams,queryable);	
	}
	@GET
	@Path(NextConfigUrls.AUTO_NUMBERING)
	public List<AutoNumberingResponse> fetchAutoNumberings(@Valid @BeanParam SessionParams sessionParams, @BeanParam QueryableParams queryable,@QueryParam("type") Type type) throws NextServiceException  {
		
			return autoNumberingService.fetchAutoNumberings(type,sessionParams,queryable);	
	}
	@GET
	@Path(NextConfigUrls.AUTO_NUMBERING_Long)
	public AutoNumberingResponse fetchAutoNumberings(@BeanParam AutoNumberingFetchParams AutoNumberingFetchParams,@Valid @BeanParam SessionParams sessionParams, @BeanParam QueryableParams queryable) throws NextServiceException  {
		
			return autoNumberingService.fetchAutoNumberings(AutoNumberingFetchParams,sessionParams,queryable);	
	}
	
	@GET
	@Path(NextConfigUrls.AUTO_NUMBERING_GENERATE_ID)
	public AutoNumberingResponse generateAutoGeneratedNosById(@BeanParam AutoNumberingFetchParams AutoNumberingFetchParams,@Valid @BeanParam SessionParams sessionParams, @BeanParam QueryableParams queryable) throws NextServiceException  {
		
			return autoNumberingService.generateAutoGeneratedNosById(AutoNumberingFetchParams,sessionParams,queryable);	
	}
	
	@POST
	@Path(NextConfigUrls.AUTO_NUMBERING_BULK)
	public JerseyResponse  updateBulkAutoNumberings(@Valid @BeanParam SessionParams sessionParams,
			List<AutoNumberingUpdateRequest> autoNumberingUpdateRequests){
		return autoNumberingService.updateBulkAutoNumberings(sessionParams, autoNumberingUpdateRequests);
	}
	
	@POST
	@Path(NextConfigUrls.GENERATE_AUTO_NUMBER)
	public AutoNumberingResponse generateAutoNumber(@Valid @BeanParam SessionParams sessionParams, @BeanParam QueryableParams queryable,@Valid AutoNumberingAddRequest autoNumberingAddRequest) throws NextServiceException  {
			return autoNumberingService.generateAutoNumber(sessionParams, autoNumberingAddRequest);	
	}
	
//	@PUT
//	@Path("/{Long}")
//	public JerseyResponse updateAutoNumberingSessions(@BeanParam AutoNumberingUpdateSessionContextParams autoNumberingUpdateSessionContextParams, @BeanParam SessionParams sessionParams, @BeanParam QueryableParams queryable) throws NextServiceException  {
//		
//			return autoNumberingService.updateAutoNumberingSessions(autoNumberingUpdateSessionContextParams,sessionParams,queryable);	
//	}
}